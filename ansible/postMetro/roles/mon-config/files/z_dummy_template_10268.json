{"zabbix_export": {"date": "2020-02-29T02:04:21Z", "templates": [{"templates": [], "description": "", "tags": [{"tag": "InUse", "value": "Yes"}, {"tag": "WL", "value": "Yes"}], "items": [{"allow_traps": "0", "snmpv3_contextname": "", "ssl_cert_file": "", "inventory_link": "0", "query_fields": [], "http_proxy": "", "trends": "0", "post_type": "0", "snmpv3_authpassphrase": "", "snmp_oid": "", "snmpv3_securitylevel": "0", "port": "", "ssl_key_file": "", "logtimefmt": "", "jmx_endpoint": "", "master_item": [], "delay": "5m", "publickey": "", "request_method": "0", "params": "", "follow_redirects": "1", "units": "", "verify_host": "0", "type": "0", "snmpv3_authprotocol": "0", "valuemap": [], "ipmi_sensor": "", "username": "", "authtype": "0", "snmp_community": "", "description": "This item returns a JSON formatted block containing info about when the license file will expire", "output_format": "0", "status_codes": "200", "allowed_hosts": "", "snmpv3_securityname": "", "preprocessing": [], "value_type": "4", "key": "license.expiry", "retrieve_mode": "0", "privatekey": "", "ssl_key_password": "", "password": "", "snmpv3_privpassphrase": "", "snmpv3_privprotocol": "0", "name": "License file expiry info", "applications": [{"name": "Expiry"}], "url": "", "posts": "", "headers": [], "status": "0", "timeout": "3s", "verify_peer": "0", "history": "90d"}, {"allow_traps": "0", "snmpv3_contextname": "", "ssl_cert_file": "", "inventory_link": "0", "query_fields": [], "http_proxy": "", "trends": "0", "post_type": "0", "snmpv3_authpassphrase": "", "snmp_oid": "", "snmpv3_securitylevel": "0", "port": "", "ssl_key_file": "", "logtimefmt": "", "jmx_endpoint": "", "master_item": {"key": "license.expiry"}, "delay": "0", "publickey": "", "request_method": "0", "params": "", "follow_redirects": "1", "units": "", "verify_host": "0", "type": "18", "snmpv3_authprotocol": "0", "valuemap": [], "ipmi_sensor": "", "username": "", "authtype": "0", "snmp_community": "", "description": "The date whenl the portal license file expires on this server.\r\n\r\n(Each server has it's own license file)", "output_format": "0", "status_codes": "200", "allowed_hosts": "", "snmpv3_securityname": "", "preprocessing": [{"error_handler_params": "", "type": "12", "error_handler": "0", "params": "$.date"}], "value_type": "4", "key": "license.expiry.date", "retrieve_mode": "0", "privatekey": "", "ssl_key_password": "", "password": "", "snmpv3_privpassphrase": "", "snmpv3_privprotocol": "0", "name": "License expiry date", "applications": [{"name": "Expiry"}], "url": "", "posts": "", "headers": [], "status": "0", "timeout": "3s", "verify_peer": "0", "history": "90d"}, {"allow_traps": "0", "snmpv3_contextname": "", "ssl_cert_file": "", "inventory_link": "0", "query_fields": [], "http_proxy": "", "trends": "365d", "post_type": "0", "snmpv3_authpassphrase": "", "snmp_oid": "", "snmpv3_securitylevel": "0", "port": "", "ssl_key_file": "", "logtimefmt": "", "jmx_endpoint": "", "master_item": {"key": "license.expiry"}, "delay": "0", "publickey": "", "request_method": "0", "params": "", "follow_redirects": "1", "units": "", "verify_host": "0", "type": "18", "snmpv3_authprotocol": "0", "valuemap": [], "ipmi_sensor": "", "username": "", "authtype": "0", "snmp_community": "", "description": "Days left until the portal license file expires on this server.\r\n\r\n(Each server has it's own license file)", "output_format": "0", "status_codes": "200", "allowed_hosts": "", "snmpv3_securityname": "", "preprocessing": [{"error_handler_params": "", "type": "12", "error_handler": "0", "params": "$.daysLeft"}], "value_type": "3", "key": "license.expiry.days", "retrieve_mode": "0", "privatekey": "", "ssl_key_password": "", "password": "", "snmpv3_privpassphrase": "", "snmpv3_privprotocol": "0", "name": "Portal - Days left until license expires", "applications": [{"name": "Expiry"}], "url": "", "posts": "", "headers": [], "status": "0", "timeout": "3s", "verify_peer": "0", "history": "90d"}, {"allow_traps": "0", "snmpv3_contextname": "", "ssl_cert_file": "", "inventory_link": "0", "query_fields": [], "http_proxy": "", "trends": "0", "post_type": "0", "snmpv3_authpassphrase": "", "snmp_oid": "", "snmpv3_securitylevel": "0", "port": "", "ssl_key_file": "", "logtimefmt": "", "jmx_endpoint": "", "master_item": {"key": "license.expiry"}, "delay": "0", "publickey": "", "request_method": "0", "params": "", "follow_redirects": "1", "units": "", "verify_host": "0", "type": "18", "snmpv3_authprotocol": "0", "valuemap": [], "ipmi_sensor": "", "username": "", "authtype": "0", "snmp_community": "", "description": "THe name and path of the license file for this server.\r\n\r\n(Each server has it's own license file)", "output_format": "0", "status_codes": "200", "allowed_hosts": "", "snmpv3_securityname": "", "preprocessing": [{"error_handler_params": "", "type": "12", "error_handler": "0", "params": "$.file"}], "value_type": "4", "key": "license.expiry.file", "retrieve_mode": "0", "privatekey": "", "ssl_key_password": "", "password": "", "snmpv3_privpassphrase": "", "snmpv3_privprotocol": "0", "name": "License file", "applications": [{"name": "Expiry"}], "url": "", "posts": "", "headers": [], "status": "0", "timeout": "3s", "verify_peer": "0", "history": "90d"}, {"allow_traps": "0", "snmpv3_contextname": "", "ssl_cert_file": "", "inventory_link": "0", "query_fields": [], "http_proxy": "", "trends": "365d", "post_type": "0", "snmpv3_authpassphrase": "", "snmp_oid": "", "snmpv3_securitylevel": "0", "port": "", "ssl_key_file": "", "logtimefmt": "", "jmx_endpoint": "", "master_item": [], "delay": "30s", "publickey": "", "request_method": "0", "params": "", "follow_redirects": "1", "units": "", "verify_host": "0", "type": "19", "snmpv3_authprotocol": "0", "valuemap": [], "ipmi_sensor": "", "username": "", "authtype": "0", "snmp_community": "", "description": "0 - UP (portal cluster is OK)\r\n2 - DOWN (portal cluster is down or we failed to retreiive data or make a connection or we could not parse the data)", "output_format": "0", "status_codes": "200", "allowed_hosts": "", "snmpv3_securityname": "", "preprocessing": [{"error_handler_params": "2", "type": "12", "error_handler": "2", "params": "$.status"}, {"error_handler_params": "", "type": "5", "error_handler": "0", "params": "(.*)\n\\1:UP=0:DOWN=2"}, {"error_handler_params": "2", "type": "5", "error_handler": "2", "params": "(UP|DOWN)(?=.*:\\1=(\\d))\n\\2"}], "value_type": "3", "key": "portal.cluster.status", "retrieve_mode": "0", "privatekey": "", "ssl_key_password": "", "password": "", "snmpv3_privpassphrase": "", "snmpv3_privprotocol": "0", "name": "Portal cluster status", "applications": [{"name": "HTTP agent"}], "url": "http://{HOST.HOST}/vnsportal/health", "posts": "", "headers": [], "status": "0", "timeout": "10s", "verify_peer": "0", "history": "90d"}], "httptests": [{"status": "1", "verify_host": "0", "name": "Portal checks", "application": {"name": "Web check"}, "variables": [], "http_proxy": "", "attempts": "1", "agent": "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2125.104 Safari/537.36", "delay": "1m", "headers": [], "authentication": "0", "steps": [{"name": "Portal {HOST.HOST} status", "url": "http://{HOST.HOST}/vnsportal/health", "follow_redirects": "1", "variables": [], "required": "UP", "posts": "", "headers": [], "query_fields": [], "timeout": "15s", "retrieve_mode": "0", "status_codes": "200"}], "http_user": "", "ssl_cert_file": "", "ssl_key_password": "", "verify_peer": "0", "http_password": "", "ssl_key_file": ""}], "screens": [], "applications": [{"name": "Expiry"}, {"name": "HTTP agent"}, {"name": "Web check"}], "discovery_rules": [], "groups": [{"name": "Portal nodes"}], "template": "Template App Portal server", "macros": [], "name": "Template App Portal server"}], "version": "4.2", "groups": [{"name": "Portal nodes"}], "triggers": [{"status": "0", "recovery_mode": "0", "description": "", "tags": [], "url": "", "type": "0", "priority": "4", "correlation_tag": "", "dependencies": [], "correlation_mode": "0", "manual_close": "0", "expression": "{Template App Portal server:portal.cluster.status.last()}=2", "recovery_expression": "", "name": "Portal cluster status"}, {"status": "0", "recovery_mode": "0", "description": "The portal license file will expire in less than 5 days from now.\r\n\r\nFix this problem before expiry or service may be affected.", "tags": [], "url": "", "type": "0", "priority": "5", "correlation_tag": "", "dependencies": [], "correlation_mode": "0", "manual_close": "0", "expression": "{Template App Portal server:license.expiry.days.last()}<5", "recovery_expression": "", "name": "Portal license expiry in less than 5 days"}, {"status": "0", "recovery_mode": "0", "description": "The portal license file will expire between 5 and 15 days from now.\r\n\r\nFix this problem before expiry or service may be affected.", "tags": [], "url": "", "type": "0", "priority": "4", "correlation_tag": "", "dependencies": [], "correlation_mode": "0", "manual_close": "0", "expression": "{Template App Portal server:license.expiry.days.last()}<15 and {Template App Portal server:license.expiry.days.last()}>5", "recovery_expression": "", "name": "Portal license expiry in less than 15 days"}, {"status": "0", "recovery_mode": "0", "description": "The portal license file will expire between 15 and 30 days from now.\r\n\r\nFix this problem before expiry or service may be affected.", "tags": [], "url": "", "type": "0", "priority": "3", "correlation_tag": "", "dependencies": [], "correlation_mode": "0", "manual_close": "0", "expression": "{Template App Portal server:license.expiry.days.last()}>15 and {Template App Portal server:license.expiry.days.last()}<30", "recovery_expression": "", "name": "Portal license expiry in less than 30 days"}]}}