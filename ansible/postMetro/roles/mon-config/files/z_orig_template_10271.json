{"zabbix_export": {"date": "2020-02-29T02:04:22Z", "templates": [{"templates": [], "description": "This template extracts data relevant to VSD servers in a cluster.", "tags": [{"tag": "InUse", "value": "Yes"}, {"tag": "WL", "value": "Yes"}], "items": [{"allow_traps": "0", "snmpv3_contextname": "", "ssl_cert_file": "", "inventory_link": "0", "query_fields": [], "http_proxy": "", "trends": "365d", "post_type": "0", "snmpv3_authpassphrase": "", "snmp_oid": "", "snmpv3_securitylevel": "0", "port": "", "ssl_key_file": "", "logtimefmt": "", "jmx_endpoint": "", "master_item": [], "delay": "30s", "publickey": "", "request_method": "0", "params": "", "follow_redirects": "0", "units": "", "verify_host": "0", "type": "19", "snmpv3_authprotocol": "0", "valuemap": [], "ipmi_sensor": "", "username": "", "authtype": "0", "snmp_community": "", "description": "VSD cluster states:\r\n\r\n0 - GOOD (the VSD sees no problmes wiht the cluster)\r\n2 - BAD (there is an issue with the cluster state or else we encountered an unknown problem i.e. we could not reach the VSD or could not properly parse the data returned)", "output_format": "0", "status_codes": "200", "allowed_hosts": "", "snmpv3_securityname": "", "preprocessing": [{"error_handler_params": "BAD", "type": "12", "error_handler": "2", "params": "$[0].status"}, {"error_handler_params": "", "type": "5", "error_handler": "0", "params": "(.*)\n\\1:GOOD=0:BAD=2"}, {"error_handler_params": "2", "type": "5", "error_handler": "2", "params": "(GOOD|BAD)(?=.*:\\1=(\\d))\n\\2"}], "value_type": "3", "key": "vsd.cluster.status", "retrieve_mode": "0", "privatekey": "", "ssl_key_password": "", "password": "", "snmpv3_privpassphrase": "", "snmpv3_privprotocol": "0", "name": "VSD cluster status", "applications": [{"name": "HTTP check"}], "url": "https://{HOST.HOST}:8443/nuage/health", "posts": "", "headers": [], "status": "0", "timeout": "5s", "verify_peer": "0", "history": "90d"}, {"allow_traps": "0", "snmpv3_contextname": "", "ssl_cert_file": "", "inventory_link": "0", "query_fields": [], "http_proxy": "", "trends": "0", "post_type": "0", "snmpv3_authpassphrase": "", "snmp_oid": "", "snmpv3_securitylevel": "0", "port": "", "ssl_key_file": "", "logtimefmt": "", "jmx_endpoint": "", "master_item": [], "delay": "30s", "publickey": "", "request_method": "0", "params": "", "follow_redirects": "1", "units": "", "verify_host": "0", "type": "19", "snmpv3_authprotocol": "0", "valuemap": [], "ipmi_sensor": "", "username": "", "authtype": "0", "snmp_community": "", "description": "The complete output of of the monit system in json format (generated by the custom python process listening on port 2813.", "output_format": "0", "status_codes": "200", "allowed_hosts": "", "snmpv3_securityname": "", "preprocessing": [], "value_type": "4", "key": "vsd.monit", "retrieve_mode": "0", "privatekey": "", "ssl_key_password": "", "password": "", "snmpv3_privpassphrase": "", "snmpv3_privprotocol": "0", "name": "VSD monit complete output (json monit)", "applications": [{"name": "HTTP check"}], "url": "http://{HOST.HOST}:2813", "posts": "", "headers": [], "status": "0", "timeout": "5s", "verify_peer": "0", "history": "90d"}, {"allow_traps": "0", "snmpv3_contextname": "", "ssl_cert_file": "", "inventory_link": "0", "query_fields": [], "http_proxy": "", "trends": "0", "post_type": "0", "snmpv3_authpassphrase": "", "snmp_oid": "", "snmpv3_securitylevel": "0", "port": "", "ssl_key_file": "", "logtimefmt": "", "jmx_endpoint": "", "master_item": {"key": "vsd.monit"}, "delay": "0", "publickey": "", "request_method": "0", "params": "", "follow_redirects": "1", "units": "", "verify_host": "0", "type": "18", "snmpv3_authprotocol": "0", "valuemap": [], "ipmi_sensor": "", "username": "", "authtype": "0", "snmp_community": "", "description": "", "output_format": "0", "status_codes": "200", "allowed_hosts": "", "snmpv3_securityname": "", "preprocessing": [{"error_handler_params": "", "type": "12", "error_handler": "0", "params": "$['process']['tca-daemon']['status']"}], "value_type": "1", "key": "vsd.monit.proc.tcadaemon.status", "retrieve_mode": "0", "privatekey": "", "ssl_key_password": "", "password": "", "snmpv3_privpassphrase": "", "snmpv3_privprotocol": "0", "name": "VSD monit process tca-daemon status", "applications": [{"name": "HTTP check"}], "url": "", "posts": "", "headers": [], "status": "0", "timeout": "3s", "verify_peer": "0", "history": "90d"}, {"allow_traps": "0", "snmpv3_contextname": "", "ssl_cert_file": "", "inventory_link": "0", "query_fields": [], "http_proxy": "", "trends": "0", "post_type": "0", "snmpv3_authpassphrase": "", "snmp_oid": "", "snmpv3_securitylevel": "0", "port": "", "ssl_key_file": "", "logtimefmt": "", "jmx_endpoint": "", "master_item": [], "delay": "30s", "publickey": "", "request_method": "0", "params": "", "follow_redirects": "1", "units": "", "verify_host": "0", "type": "19", "snmpv3_authprotocol": "0", "valuemap": [], "ipmi_sensor": "", "username": "", "authtype": "0", "snmp_community": "", "description": "0 - All status programs return OK\r\n1 - DEGRADED (at least one service/process/program is failed)\r\n2 - All services/process/programs are failed\r\n3 - unknown (failure to extract valid data)", "output_format": "0", "status_codes": "200", "allowed_hosts": "", "snmpv3_securityname": "", "preprocessing": [{"error_handler_params": "", "type": "4", "error_handler": "0", "params": "\""}, {"error_handler_params": "3", "type": "5", "error_handler": "2", "params": "(.*)\n\\1:ok=0:degraded=1:failed=2"}, {"error_handler_params": "3", "type": "5", "error_handler": "2", "params": "(ok|degraded|failed)(?=.*:\\1=(\\d))\n\\2"}], "value_type": "1", "key": "vsd.overall.jsonmonit.status", "retrieve_mode": "0", "privatekey": "", "ssl_key_password": "", "password": "", "snmpv3_privpassphrase": "", "snmpv3_privprotocol": "0", "name": "VSD system status (json monit)", "applications": [{"name": "HTTP check"}], "url": "http://{HOST.HOST}:2813/q/system/status", "posts": "", "headers": [], "status": "0", "timeout": "5s", "verify_peer": "0", "history": "90d"}, {"allow_traps": "0", "snmpv3_contextname": "", "ssl_cert_file": "", "inventory_link": "0", "query_fields": [], "http_proxy": "", "trends": "365d", "post_type": "0", "snmpv3_authpassphrase": "", "snmp_oid": "", "snmpv3_securitylevel": "0", "port": "", "ssl_key_file": "", "logtimefmt": "", "jmx_endpoint": "", "master_item": [], "delay": "30s", "publickey": "", "request_method": "0", "params": "", "follow_redirects": "1", "units": "", "verify_host": "0", "type": "19", "snmpv3_authprotocol": "0", "valuemap": [], "ipmi_sensor": "", "username": "cnauser", "authtype": "1", "snmp_community": "", "description": "0 - All status programs return OK\r\n1 (or higher) At least one status program is reporting not OK (could be 1 or more DEGRADED or FAILED)", "output_format": "0", "status_codes": "200", "allowed_hosts": "", "snmpv3_securityname": "", "preprocessing": [{"error_handler_params": "", "type": "11", "error_handler": "0", "params": "count(//service[@type=7]//output[not(contains(text(), \"PASS\"))]) + count(//service[@type=7][not(program)])"}], "value_type": "3", "key": "vsd.overall.monit.status", "retrieve_mode": "0", "privatekey": "", "ssl_key_password": "", "password": "cnapass", "snmpv3_privpassphrase": "", "snmpv3_privprotocol": "0", "name": "VSD overall status (monit)", "applications": [{"name": "HTTP check"}], "url": "http://{HOST.HOST}:2812/_status?format=xml", "posts": "", "headers": [], "status": "0", "timeout": "3s", "verify_peer": "0", "history": "90d"}], "httptests": [{"status": "0", "verify_host": "0", "name": "VSD checks", "application": {"name": "Web check"}, "variables": [], "http_proxy": "", "attempts": "1", "agent": "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2125.104 Safari/537.36", "delay": "1m", "headers": [], "authentication": "1", "steps": [{"name": "VSD cluster status", "url": "https://{HOST.HOST}:8443/nuage/health", "follow_redirects": "1", "variables": [], "required": "GOOD", "posts": "", "headers": [], "query_fields": [], "timeout": "15s", "retrieve_mode": "0", "status_codes": "200"}, {"name": "VSD login page", "url": "https://{HOST.HOST}:8443", "follow_redirects": "1", "variables": [], "required": "Nuage Networks Dashboard", "posts": "", "headers": [], "query_fields": [], "timeout": "15s", "retrieve_mode": "0", "status_codes": "200"}, {"name": "VSD API token", "url": "https://{HOST.HOST}:8443/nuage/api/v5_0/me", "follow_redirects": "1", "variables": [], "required": "", "posts": "", "headers": [{"name": "X-Nuage-Organization", "value": "csp"}], "query_fields": [], "timeout": "15s", "retrieve_mode": "0", "status_codes": "200"}], "http_user": "zabbix", "ssl_cert_file": "", "ssl_key_password": "", "verify_peer": "0", "http_password": "guZb$jrz$w5U", "ssl_key_file": ""}], "screens": [], "applications": [{"name": "HTTP check"}, {"name": "License check"}, {"name": "Web check"}], "discovery_rules": [], "groups": [{"name": "VSD nodes"}], "template": "Template App VSD server", "macros": [], "name": "Template App VSD server"}], "version": "4.2", "groups": [{"name": "VSD nodes"}], "triggers": [{"status": "0", "recovery_mode": "0", "description": "", "tags": [], "url": "", "type": "0", "priority": "4", "correlation_tag": "", "dependencies": [], "correlation_mode": "0", "manual_close": "0", "expression": "{Template App VSD server:web.test.rspcode[VSD checks,VSD API token].last()}<>200", "recovery_expression": "", "name": "VSD api status"}, {"status": "0", "recovery_mode": "0", "description": "", "tags": [], "url": "", "type": "0", "priority": "4", "correlation_tag": "", "dependencies": [], "correlation_mode": "0", "manual_close": "0", "expression": "{Template App VSD server:web.test.rspcode[VSD checks,VSD cluster status].last()}<>200", "recovery_expression": "", "name": "VSD cluster status"}, {"status": "0", "recovery_mode": "0", "description": "", "tags": [], "url": "", "type": "0", "priority": "4", "correlation_tag": "", "dependencies": [], "correlation_mode": "0", "manual_close": "0", "expression": "{Template App VSD server:web.test.rspcode[VSD checks,VSD login page].last()}<>200", "recovery_expression": "", "name": "VSD login status"}, {"status": "0", "recovery_mode": "0", "description": "", "tags": [], "url": "", "type": "0", "priority": "4", "correlation_tag": "", "dependencies": [], "correlation_mode": "0", "manual_close": "0", "expression": "{Template App VSD server:web.test.fail[VSD checks].last()}>=1", "recovery_expression": "", "name": "VSD test failure"}]}}